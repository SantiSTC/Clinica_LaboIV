import{a as y,b as L,c as E,j as C}from"./chunk-XFYYO32E.js";import{a as R,b as B,c as M}from"./chunk-7YO6BCT5.js";import"./chunk-I2SBAJLK.js";import{Ja as _,Ka as S,N as h,O as g,a as w,ca as n,da as o,ea as s,ga as d,ka as r,pa as f,qa as b,ra as x,ta as k,x as v}from"./chunk-BMMUWXGF.js";import{e as P}from"./chunk-5G567QLT.js";var m=P(R());var H=(()=>{let c=class c{constructor(t,e,i){this.auth=t,this.firestore=e,this.router=i,this.userType="paciente",this.email="",this.password="",this.usuarios=[],this.observable=new w}login(){this.auth.login(this.email,this.password)?.then(t=>{if(t)console.log(t),t!="noVerificado"?this.comprobarEspecialistaAceptado(this.email)?(this.router.navigateByUrl("home"),this.guardarIngresoAlSistema(),m.default.fire({title:"Bienvenido!",icon:"success",timer:1500,showConfirmButton:!1})):m.default.fire({title:"Tu cuenta se encuentra en proceso de verificaci\xF3n.",text:"Un administrador debe aprobar tu cuenta antes de que puedas ingresar.",icon:"warning",heightAuto:!1}):m.default.fire({title:"Error de verificaci\xF3n",text:"Debes verificar tu email antes de poder ingresar a tu cuenta.",icon:"error",heightAuto:!1});else throw new Error("Usuario no encontrado.")}).catch(t=>{let e;switch(console.log(t),t.code){case"auth/invalid-email":e="Correo inv\xE1lido.";break;case"auth/user-disabled":e="Este usuario ha sido deshabilitado.";break;case"auth/user-not-found":e="No se encontr\xF3 ning\xFAn usuario con este correo.";break;case"auth/wrong-password":e="Contrase\xF1a incorrecta.";break;case"auth/invalid-credential":e="Credenciales de autenticaci\xF3n inv\xE1lidas.";break;case"auth/too-many-requests":e="Demasiados intentos, intente nuevamente m\xE1s tarde.";break;default:e=t+" Por favor, int\xE9ntalo de nuevo."}m.default.fire({title:"Error",text:e,icon:"error",heightAuto:!1})})}fastLogin(t,e){this.email=t,this.password=e}comprobarEspecialistaAceptado(t){let e=!1;for(let i=0;i<this.usuarios.length;i++)if(this.usuarios[i].email==t)if(this.usuarios[i].type=="especialista"){if(this.usuarios[i].aceptadoPorAdmin){e=!0;break}}else{e=!0;break}return e}guardarIngresoAlSistema(){let t;for(let u=0;u<this.usuarios.length;u++)if(this.usuarios[u].email===this.email){t=this.usuarios[u];break}let e=new Date,i=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),l=e.getFullYear(),j=String(e.getHours()).padStart(2,"0"),D=String(e.getMinutes()).padStart(2,"0"),F=String(e.getSeconds()).padStart(2,"0"),T=`${i}/${a}/${l}`,A=`${j}:${D}:${F}`,I={nombre:t.name+" "+t.lastname,dni:t.dni,type:t.type,mail:t.email,fecha:T,hora:A};this.firestore.guardar("ingresos",I).then(()=>{console.log("Log de ingreso guardado correctamente.")}).catch(()=>{console.log("ERROR guardando el log de ingreso.")})}ngOnInit(){this.observable=this.firestore.traer("usuarios").subscribe(t=>{this.usuarios=t})}};c.\u0275fac=function(e){return new(e||c)(g(B),g(M),g(_))},c.\u0275cmp=v({type:c,selectors:[["app-login"]],standalone:!0,features:[k],decls:58,vars:2,consts:[[1,"h-screen","w-screen","flex","justify-center","items-center","bg-[url(/assets/medicos/3.jpg)]","bg-cover","overflow-hidden"],[1,"h-full","w-full","flex","flex-row","justify-center","items-center","bg-customLightBlue/60","gap-4"],[1,"w-3/4","md:h-5/6","p-6","pl-8","flex","flex-col","items-center","md:flex-row","rounded-md","gap-6","bg-white/50"],[1,"h-full","flex","flex-col","items-center","md:items-stretch","md:justify-center","gap-6"],[1,"flex","flex-row","gap-3"],["src","/assets/clinica_dark.png","alt","",1,"h-9","w-9","hidden","md:block","drop-shadow-sm"],["src","/assets/clinica_dark.png","alt","",1,"h-7","w-7","block","md:hidden","drop-shadow-sm"],[1,"text-customDarkBlue","font-bold","text-2xl","md:text-4xl","drop-shadow-sm"],[1,"text-customDarkBlue","font-medium","text-sm","md:text-lg","md:text-start","text-center","drop-shadow-sm"],[1,"flex","justify-center","items-center"],["src","/assets/login.svg","alt","",1,"h-52","w-52","hidden","md:block"],["src","/assets/login.svg","alt","",1,"h-28","w-28","block","md:hidden"],[1,"hidden","flex-row","gap-1.5","justify-center","md:flex"],[1,"text-black","text-sm","md:text-base","drop-shadow-sm"],["routerLink","/signup",1,"text-sm","md:text-base","text-customLightBlue","underline","cursor-pointer","drop-shadow-sm","hover:text-customDarkBlue","transition-colors"],[1,"w-[98%]","md:w-[420px]","h-96","flex","flex-col","bg-slate-100","rounded-md","shadow-2xl","overflow-y-auto"],[1,"h-full","w-full","flex","flex-col","rounded-md","gap-4","py-5","px-10"],[1,"btn-shine","text-customLightBlue","font-bold","text-xl","text-center"],[1,"mt-8"],["for","email",1,"text-customLightBlue","font-medium","text-sm"],["id","email","type","email",1,"w-full","h-8","border","border-customLightBlue","focus:","rounded-md","px-2",3,"ngModelChange","ngModel"],["for","password",1,"text-customLightBlue","font-medium","text-sm"],["id","password","type","password",1,"w-full","h-8","border","border-customLightBlue","focus:","rounded-md","px-2",3,"ngModelChange","ngModel"],[1,"mt-auto"],[1,"w-full","h-10","rounded-md","bg-customLightBlue","text-white","font-medium","hover:bg-customDarkBlue","hover:shadow-2xl","hover:shadow-customLightBlue","transition-all","duration-200",3,"click"],[1,"flex","flex-row","gap-1.5","justify-center","md:hidden"],[1,"text-black","text-sm","md:text-base"],["routerLink","/signup",1,"text-sm","md:text-base","text-customLightBlue","underline","cursor-pointer","hover:text-customDarkBlue","transition-colors"],[1,"w-16","h-5/6","flex","flex-col","justify-between","items-center"],[1,"group","h-14","w-14","flex","items-center","justify-center","rounded-lg","bg-white/50","cursor-pointer","hover:scale-95","hover:bg-white/75","transition-all","duration-300",3,"click"],["src","/assets/users/admin.png","alt","",1,"h-8","w-8","group-hover:scale-105","transition-all","duration-300"],["src","/assets/users/especialista.png","alt","",1,"h-8","w-8","group-hover:scale-105","transition-all","duration-300"],["src","/assets/users/paciente.png","alt","",1,"h-8","w-8","group-hover:scale-105","transition-all","duration-300"],["routerLink","/bienvenida",1,"group","absolute","left-0","bottom-0","h-10","w-[104px]","bg-customDarkBlue","rounded-md","ml-7","md:ml-20","mb-16","md:mb-7","flex","justify-center","items-center","gap-2","cursor-pointer","hover:bg-slate-100","hover:rounded-full","transition-all","duration-200"],["src","/assets/volver.png","alt","",1,"block","group-hover:hidden","w-4","h-4","transition-all","duration-200"],["src","/assets/volver2.png","alt","",1,"hidden","group-hover:block","w-4","h-4","transition-all","duration-200"],[1,"text-white","font-semibold","group-hover:text-customLightBlue","transition-colors","duration-200"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s(5,"img",5)(6,"img",6),n(7,"h1",7),r(8,"Inici\xE1 Sesi\xF3n"),o()(),n(9,"p",8),r(10,"Completa tus datos para poder ingresar a la plataforma"),o(),n(11,"div",9),s(12,"img",10)(13,"img",11),o(),n(14,"div",12)(15,"p",13),r(16,"\xBFNo tienes una cuenta?"),o(),n(17,"p",14),r(18,"Registrate"),o()()(),n(19,"div",15)(20,"div",16)(21,"div")(22,"p",17),r(23,"Ingres\xE1 a tu cuenta"),o()(),n(24,"div",18)(25,"label",19),r(26,"Correo electr\xF3nico"),o(),n(27,"input",20),x("ngModelChange",function(l){return b(i.email,l)||(i.email=l),l}),o()(),n(28,"div")(29,"label",21),r(30,"Contrase\xF1a"),o(),n(31,"input",22),x("ngModelChange",function(l){return b(i.password,l)||(i.password=l),l}),o()(),n(32,"div",23)(33,"button",24),d("click",function(){return i.login()}),r(34,"Ingres\xE1"),o()()()(),n(35,"div",25)(36,"p",26),r(37,"\xBFNo tienes una cuenta?"),o(),n(38,"p",27),r(39,"Registrate"),o()()(),n(40,"div",28)(41,"div",29),d("click",function(){return i.fastLogin("santiagoiannellot@gmail.com","123456")}),s(42,"img",30),o(),n(43,"div",29),d("click",function(){return i.fastLogin("valentinacapolicchio3@gmail.com","123456")}),s(44,"img",31),o(),n(45,"div",29),d("click",function(){return i.fastLogin("medico@medico.com","123456")}),s(46,"img",31),o(),n(47,"div",29),d("click",function(){return i.fastLogin("paciente@paciente.com","123456")}),s(48,"img",32),o(),n(49,"div",29),d("click",function(){return i.fastLogin("san.tiagoiannellot@gmail.com","123456")}),s(50,"img",32),o(),n(51,"div",29),d("click",function(){return i.fastLogin("santiago.iannellot@gmail.com","123456")}),s(52,"img",32),o()()(),n(53,"div",33),s(54,"img",34)(55,"img",35),n(56,"p",36),r(57,"Volver"),o()()()),e&2&&(h(27),f("ngModel",i.email),h(4),f("ngModel",i.password))},dependencies:[S,C,y,L,E],styles:[".btn-shine[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(to right,#294380 0,#0d0f36,#69d2cd 20%);background-position:0;background-clip:border-box;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:_ngcontent-%COMP%_shine 3s infinite linear;animation-fill-mode:forwards;-webkit-text-size-adjust:none;font-weight:600;font-size:24px;text-decoration:none;white-space:nowrap}@-moz-keyframes shine{0%{background-position:0}60%{background-position:275px}to{background-position:275px}}@-webkit-keyframes _ngcontent-%COMP%_shine{0%{background-position:0}60%{background-position:275px}to{background-position:275px}}@-o-keyframes shine{0%{background-position:0}60%{background-position:275px}to{background-position:275px}}@keyframes _ngcontent-%COMP%_shine{0%{background-position:0}60%{background-position:275px}to{background-position:275px}}"]});let p=c;return p})();export{H as LoginComponent};
