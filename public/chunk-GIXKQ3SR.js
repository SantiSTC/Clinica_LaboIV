import{a as j,b as M,c as V,h as A}from"./chunk-GTY4GKYV.js";import{a as P,b as D,c as F}from"./chunk-7IOWJCCY.js";import"./chunk-3SZIGO22.js";import{$ as l,A as y,F as f,G as p,M as v,N as x,R as L,T as S,X as t,Y as n,Z as u,_ as w,aa as h,ba as o,d as I,da as _,ea as b,fa as k,g as C,ha as E,qa as B,ra as T}from"./chunk-ZOOZBPEI.js";var g=I(P());function W(a,s){if(a&1){let d=w();t(0,"div",35),l("click",function(){f(d);let e=h();return p(e.userType="paciente")}),t(1,"h1",36),o(2,"Paciente"),n()(),t(3,"div",37),l("click",function(){f(d);let e=h();return p(e.userType="especialista")}),t(4,"h1",36),o(5,"Especialista"),n()()}}function N(a,s){if(a&1){let d=w();t(0,"div",38),l("click",function(){f(d);let e=h();return p(e.userType="paciente")}),t(1,"h1",36),o(2,"Paciente"),n()(),t(3,"div",35),l("click",function(){f(d);let e=h();return p(e.userType="especialista")}),t(4,"h1",36),o(5,"Especialista"),n()()}}var K=(()=>{let s=class s{constructor(i,e,r){this.auth=i,this.firestore=e,this.router=r,this.userType="paciente",this.email="",this.password="",this.usuarios=[],this.observable=new C}login(){this.auth.login(this.email,this.password)?.then(i=>{if(i)console.log(i),i!="noVerificado"?this.comprobarEspecialistaAceptado(this.email)?(this.router.navigateByUrl("home"),g.default.fire({title:"Bienvenido!",icon:"success",timer:1500,showConfirmButton:!1})):g.default.fire({title:"Tu cuenta se encuentra en proceso de verificaci\xF3n.",text:"Un administrador debe aprobar tu cuenta antes de que puedas ingresar.",icon:"warning",heightAuto:!1}):g.default.fire({title:"Error de verificaci\xF3n",text:"Debes verificar tu email antes de poder ingresar a tu cuenta.",icon:"error",heightAuto:!1});else throw new Error("Usuario no encontrado.")}).catch(i=>{let e;switch(console.log(i),i.code){case"auth/invalid-email":e="Correo inv\xE1lido.";break;case"auth/user-disabled":e="Este usuario ha sido deshabilitado.";break;case"auth/user-not-found":e="No se encontr\xF3 ning\xFAn usuario con este correo.";break;case"auth/wrong-password":e="Contrase\xF1a incorrecta.";break;case"auth/invalid-credential":e="Credenciales de autenticaci\xF3n inv\xE1lidas.";break;case"auth/too-many-requests":e="Demasiados intentos, intente nuevamente m\xE1s tarde.";break;default:e=i+" Por favor, int\xE9ntalo de nuevo."}g.default.fire({title:"Error",text:e,icon:"error",heightAuto:!1})})}fastLogin(i,e){this.email=i,this.password=e}comprobarEspecialistaAceptado(i){let e=!1;for(let r=0;r<this.usuarios.length;r++)if(this.usuarios[r].email==i)if(this.usuarios[r].type=="especialista"){if(this.usuarios[r].aceptadoPorAdmin){e=!0;break}}else{e=!0;break}return e}ngOnInit(){this.observable=this.firestore.traer("usuarios").subscribe(i=>{this.usuarios=i})}};s.\u0275fac=function(e){return new(e||s)(x(D),x(F),x(B))},s.\u0275cmp=y({type:s,selectors:[["app-login"]],standalone:!0,features:[E],decls:48,vars:3,consts:[[1,"h-screen","w-screen","flex","justify-center","items-center","bg-[url(/assets/medicos/3.jpg)]","bg-cover","overflow-hidden"],[1,"h-full","w-full","flex","justify-center","items-center","bg-customLightBlue/60"],[1,"w-3/4","h-auto","p-6","pl-8","flex","flex-row","rounded-md","gap-6","bg-white/50"],[1,"h-full","flex","flex-col","justify-center","gap-6"],[1,"flex","flex-row","gap-3"],["src","/assets/clinica_dark.png","alt","",1,"h-9","w-9"],[1,"text-customDarkBlue","font-bold","text-4xl"],[1,"text-customDarkBlue","font-medium","text-lg"],[1,"flex","justify-center","items-center"],["src","/assets/login.svg","alt","",1,"h-48","w-48"],[1,"flex","flex-row","gap-1.5","justify-center"],[1,"text-black"],["routerLink","/signup",1,"text-customLightBlue","underline","cursor-pointer","hover:text-customDarkBlue","transition-colors"],[1,"w-[420px]","h-96","flex","flex-col","bg-slate-100","rounded-md","shadow-2xl","overflow-y-auto"],[1,"h-10","min-h-10","w-full","flex","flex-row","rounded-t-md","cursor-pointer"],[1,"h-full","w-full","flex","flex-col","rounded-md","gap-4","py-5","px-10"],["for","email",1,"text-customLightBlue","font-medium","text-sm"],["id","email","type","email",1,"w-full","h-8","border","border-customLightBlue","focus:","rounded-md","px-2",3,"ngModelChange","ngModel"],["for","password",1,"text-customLightBlue","font-medium","text-sm"],["id","password","type","password",1,"w-full","h-8","border","border-customLightBlue","focus:","rounded-md","px-2",3,"ngModelChange","ngModel"],[1,"h-full","w-full","flex","flex-col","justify-center","items-center","gap-2"],[1,"text-customLightBlue","font-medium","text-lg"],[1,"h-1/2","w-full","flex","flex-row","justify-center","items-center","bg-white","rounded-md"],[1,"h-full","w-full","flex","flex-1","justify-center","items-center","hover:bg-customLightBlue","hover:scale-95","transition-all","cursor-pointer","rounded-l-md","border-r","border-customLightBlue","hover:border-none",3,"click"],["src","/assets/users/doctor.png","alt","",1,"w-7","h-7"],[1,"h-full","w-full","flex","flex-1","justify-center","items-center","hover:bg-customLightBlue","hover:scale-95","transition-all","cursor-pointer","border-x","border-customLightBlue","hover:border-none",3,"click"],["src","/assets/users/paciente.png","alt","",1,"w-7","h-7"],[1,"h-full","w-full","flex","flex-1","justify-center","items-center","hover:bg-customLightBlue","hover:scale-95","transition-all","cursor-pointer","rounded-r-md","border-l","border-customLightBlue","hover:border-none",3,"click"],["src","/assets/users/anonimo.png","alt","",1,"w-7","h-7"],[1,"mt-auto"],[1,"w-full","h-10","rounded-md","bg-customLightBlue","text-white","font-medium","hover:bg-customBlue","transition-colors",3,"click"],["routerLink","/bienvenida",1,"group","absolute","left-0","bottom-0","h-10","w-[104px]","bg-customDarkBlue","rounded-md","ml-20","mb-7","flex","justify-center","items-center","gap-2","cursor-pointer","hover:bg-slate-100","hover:rounded-full","transition-all","duration-200"],["src","/assets/volver.png","alt","",1,"block","group-hover:hidden","w-4","h-4","transition-all","duration-200"],["src","/assets/volver2.png","alt","",1,"hidden","group-hover:block","w-4","h-4","transition-all","duration-200"],[1,"text-white","font-semibold","group-hover:text-customLightBlue","transition-colors","duration-200"],[1,"h-full","w-1/2","flex","justify-center","items-center",3,"click"],[1,"text-customLightBlue","font-medium"],[1,"h-full","w-1/2","flex","justify-center","items-center","border-l-2","border-b-2",3,"click"],[1,"h-full","w-1/2","flex","justify-center","items-center","border-r-2","border-b-2",3,"click"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u(5,"img",5),t(6,"h1",6),o(7,"Inici\xE1 Sesi\xF3n"),n()(),t(8,"p",7),o(9,"Completa tus datos para poder ingresar a la plataforma"),n(),t(10,"div",8),u(11,"img",9),n(),t(12,"div",10)(13,"p",11),o(14,"\xBFNo tienes una cuenta?"),n(),t(15,"p",12),o(16,"Registrate"),n()()(),t(17,"div",13)(18,"div",14),L(19,W,6,0)(20,N,6,0),n(),t(21,"div",15)(22,"div")(23,"label",16),o(24,"Correo electr\xF3nico"),n(),t(25,"input",17),k("ngModelChange",function(c){return b(r.email,c)||(r.email=c),c}),n()(),t(26,"div")(27,"label",18),o(28,"Contrase\xF1a"),n(),t(29,"input",19),k("ngModelChange",function(c){return b(r.password,c)||(r.password=c),c}),n()(),t(30,"div",20)(31,"p",21),o(32,"Acceso rapido"),n(),t(33,"div",22)(34,"div",23),l("click",function(){return r.fastLogin("valentinacapolicchio3@gmail.com","123456")}),u(35,"img",24),n(),t(36,"div",25),l("click",function(){return r.fastLogin("","")}),u(37,"img",26),n(),t(38,"div",27),l("click",function(){return r.fastLogin("santiagoiannellot@gmail.com","123456")}),u(39,"img",28),n()()(),t(40,"div",29)(41,"button",30),l("click",function(){return r.login()}),o(42,"Ingres\xE1"),n()()()()()(),t(43,"div",31),u(44,"img",32)(45,"img",33),t(46,"p",34),o(47,"Volver"),n()()()),e&2&&(v(19),S(19,r.userType=="paciente"?19:20),v(6),_("ngModel",r.email),v(4),_("ngModel",r.password))},dependencies:[T,A,j,M,V]});let a=s;return a})();export{K as LoginComponent};
