import{a as R}from"./chunk-QSIJ5AVY.js";import{a as T,b as V,c as I,d as P,j}from"./chunk-XFYYO32E.js";import{a as O,b as L,c as F}from"./chunk-7YO6BCT5.js";import"./chunk-I2SBAJLK.js";import{D as f,E as y,Ha as A,Ja as W,Ka as H,M as D,N as l,O as v,V as b,Z as C,a as S,ca as t,da as r,ea as _,fa as x,ga as w,ha as h,ia as B,ka as o,ma as k,pa as m,qa as c,ra as p,ta as E,x as M}from"./chunk-BMMUWXGF.js";import{e as N}from"./chunk-5G567QLT.js";var z=N(O());function U(u,g){if(u&1){let s=x();t(0,"div",14)(1,"div",35),w("click",function(){f(s);let i=h();return y(i.cerrarSesion())}),_(2,"img",36),t(3,"p",37),o(4,"Cerrar Sesi\xF3n"),r()()()}}function G(u,g){if(u&1){let s=x();t(0,"div",19)(1,"div",20)(2,"label",42),o(3,"Dato personalizado"),r(),t(4,"input",43),p("ngModelChange",function(i){f(s);let e=h(2);return c(e.key3,i)||(e.key3=i),y(i)}),r()(),t(5,"div",20)(6,"label",44),o(7,"Valor del dato"),r(),t(8,"input",45),p("ngModelChange",function(i){f(s);let e=h(2);return c(e.valor3,i)||(e.valor3=i),y(i)}),r()()()}if(u&2){let s=h(2);l(4),m("ngModel",s.key3),l(4),m("ngModel",s.valor3)}}function Y(u,g){if(u&1){let s=x();t(0,"div",19)(1,"div",20)(2,"label",38),o(3,"Dato personalizado"),r(),t(4,"input",39),p("ngModelChange",function(i){f(s);let e=h();return c(e.key2,i)||(e.key2=i),y(i)}),r()(),t(5,"div",20)(6,"label",40),o(7,"Valor del dato"),r(),t(8,"input",41),p("ngModelChange",function(i){f(s);let e=h();return c(e.valor2,i)||(e.valor2=i),y(i)}),r()()(),b(9,G,9,2,"div",19)}if(u&2){let s=h();l(4),m("ngModel",s.key2),l(4),m("ngModel",s.valor2),l(),C(9,s.key2!=""&&s.valor2!=""?9:-1)}}var ie=(()=>{let g=class g{constructor(a,i,e,d,n){this.firestore=a,this.activatedRoute=i,this.auth=e,this.router=d,this.hc=n,this.email="",this.isAuthenticated=!1,this.userSubscription=new S,this.subscriptions=[],this.cerrandoSesion=!1,this.usuarios=[],this.historiaClinica=[],this.key1="",this.valor1="",this.key2="",this.valor2="",this.key3="",this.valor3=""}agregarAHistoriaClinica(){let a=[];this.key3!=""&&this.valor3!=""?(a.push({clave:this.key1,valor:this.valor1}),a.push({clave:this.key2,valor:this.valor2}),a.push({clave:this.key3,valor:this.valor3})):this.key2!=""&&this.valor2!=""?(a.push({clave:this.key1,valor:this.valor1}),a.push({clave:this.key2,valor:this.valor2})):this.key1!=""&&this.valor1!=""&&a.push({clave:this.key1,valor:this.valor1}),console.log("ARRAY DINAMICO: ",a),this.altura,this.peso,this.temperatura,this.presion&&this.hc.guardarHistoriaClinica(this.pacienteDni,this.especialistaDni,this.fechaFormateada,this.altura,this.peso,this.temperatura,this.presion,a).then(()=>{z.default.fire({title:"Guardado con exito!",icon:"success",timer:1500,showConfirmButton:!1}).then(()=>{this.router.navigateByUrl("home")})})}ngOnInit(){this.pacienteDni=this.activatedRoute.snapshot.paramMap.get("paciente"),this.especialistaDni=this.activatedRoute.snapshot.paramMap.get("especialista"),this.fecha=this.activatedRoute.snapshot.paramMap.get("fecha");let a=this.fecha.split("_")[0],i=this.fecha.split("_")[1],e=this.fecha.split("_")[2];this.fechaFormateada=a+"/"+i+"/"+e,console.log("fecha:",this.fechaFormateada),this.userSubscription=this.auth.userActual$.subscribe(d=>{this.isAuthenticated=!!d,this.email=d?.email||""}),this.subscriptions.push(this.firestore.traer("usuarios").subscribe(d=>{this.usuarios=d;for(let n=0;n<this.usuarios.length;n++)if(this.usuarios[n].email===this.email){this.user=this.usuarios[n];break}}))}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}getNombreDelEspecialista(a){let i="";return this.usuarios.forEach(e=>{e.type=="especialista"&&e.dni==a&&(i=e.name+" "+e.lastname)}),i}getNombreDelPaciente(a){let i="";return this.usuarios.forEach(e=>{(e.type=="paciente"||e.type=="admin")&&e.dni==a&&(i=e.name+" "+e.lastname)}),i}toggleCerrandoSesion(){this.cerrandoSesion=!this.cerrandoSesion}cerrarSesion(){this.auth.logout(),this.router.navigateByUrl("login")}};g.\u0275fac=function(i){return new(i||g)(v(F),v(A),v(L),v(W),v(R))},g.\u0275cmp=M({type:g,selectors:[["app-agregar-historia-clinica"]],standalone:!0,features:[E],decls:58,vars:11,consts:[[1,"min-h-screen","w-screen","flex","flex-col","overflow-x-hidden"],[1,"h-16","min-h-16","w-full","flex","flex-row","items-center","justify-between","px-6","bg-customDarkBlue","z-50"],[1,"h-full","flex","flex-1","items-center","flex-row","gap-4"],["src","/assets/clinica.png","alt","",1,"h-7","w-7"],[1,"text-slate-100","font-bold","text-xl"],[1,"w-full","h-full","flex","flex-1","items-center","justify-end","flex-row","gap-12"],["routerLink","/home",1,"group","h-8","w-24","rounded-full","font-semibold","bg-slate-100","text-customDarkBlue","flex","flex-row","gap-1","justify-center","items-center","shadow-2xl","hover:bg-customBlue","hover:text-slate-100","transition-colors"],["src","/assets/home-azul.png",1,"h-4","w-4","block","group-hover:hidden"],["src","/assets/home.png",1,"hidden","h-4","w-4","group-hover:block"],[1,"text-sm","font-semibold","mt-px"],["routerLink","/perfil",1,"rounded-full","flex","justify-center","items-center","shadow-2xl","pr-6"],["alt","",1,"h-10","w-10","rounded-full","absolute",3,"src"],[1,"h-full","w-12","flex","justify-center","items-center","-ml-3"],["src","/assets/volver.png","alt","",1,"h-3","w-3","-rotate-90","cursor-pointer",3,"click"],[1,"w-full","flex","justify-end"],[1,"h-full","w-full","flex","flex-col","items-center","justify-start","bg-slate-200","gap-5","p-12"],[1,"text-customDarkBlue","font-bold","text-xl"],[1,"w-[600px]","h-auto","rounded-md","bg-white","shadow-md","flex","flex-col","items-center","px-5","py-10","gap-5","mt-5"],[1,"text-lg","text-customDarkBlue","font-bold"],[1,"flex","flex-row","gap-5"],[1,"flex","flex-col"],["for","altura",1,"text-base","text-customDarkBlue","font-semibold"],["type","number","name","altura","id","altura","placeholder","Altura en centimetros",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"],["for","peso",1,"text-base","text-customDarkBlue","font-semibold"],["type","number","name","peso","id","peso","placeholder","Peso en kilogramos",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"],["for","temperatura",1,"text-base","text-customDarkBlue","font-semibold"],["type","number","name","temperatura","id","temperatura","placeholder","Temperatura en centigrados",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"],["for","presion",1,"text-base","text-customDarkBlue","font-semibold"],["type","text","name","presion","id","presion","placeholder","Presion en mm Hg",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"],[1,"w-3/4","h-px","bg-zinc-600"],["for","key1",1,"text-base","text-customDarkBlue","font-semibold"],["type","text","name","key1","id","key1","placeholder","Ingrese el dato a guardar",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"],["for","valor1",1,"text-base","text-customDarkBlue","font-semibold"],["type","text","name","valor1","id","valor1","placeholder","Ingrese el valor del dato a guardar",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"],[1,"text-white","font-bold","flex","justify-center","items-center","w-3/4","h-12","rounded-md","bg-customDarkBlue","hover:bg-customBlue","transition-all",3,"click"],[1,"w-32","h-10","rounded-md","flex","justify-center","items-center","flex-row","gap-1.5","cursor-pointer","mr-[2%]","mt-1","bg-red-600","hover:bg-red-800","transition-all",3,"click"],["src","/assets/volver.png","alt","",1,"h-4","w-4","cursor-pointer"],[1,"text-sm","font-medium","text-white","whitespace-nowrap"],["for","key2",1,"text-base","text-customDarkBlue","font-semibold"],["type","text","name","key2","id","key2","placeholder","Ingrese el dato a guardar",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"],["for","valor2",1,"text-base","text-customDarkBlue","font-semibold"],["type","text","name","valor2","id","valor2","placeholder","Ingrese el valor del dato a guardar",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"],["for","key3",1,"text-base","text-customDarkBlue","font-semibold"],["type","text","name","key3","id","key3","placeholder","Ingrese el dato a guardar",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"],["for","valor3",1,"text-base","text-customDarkBlue","font-semibold"],["type","text","name","valor3","id","valor3","placeholder","Ingrese el valor del dato a guardar",1,"p-2","rounded-md","border-2","border-customDarkBlue",3,"ngModelChange","ngModel"]],template:function(i,e){i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),_(3,"img",3),t(4,"h1",4),o(5,"Clinica"),r()(),t(6,"div",5)(7,"button",6),_(8,"img",7)(9,"img",8),t(10,"p",9),o(11,"Home"),r()(),t(12,"button",10),_(13,"img",11),r()(),t(14,"div",12)(15,"img",13),w("click",function(){return e.toggleCerrandoSesion()}),r()()(),b(16,U,5,0,"div",14),t(17,"div",15)(18,"p",16),o(19),r(),t(20,"p",16),o(21),r(),t(22,"div",17)(23,"p",18),o(24,"Datos obligatorios"),r(),t(25,"div",19)(26,"div",20)(27,"label",21),o(28,"Altura"),r(),t(29,"input",22),p("ngModelChange",function(n){return c(e.altura,n)||(e.altura=n),n}),r()(),t(30,"div",20)(31,"label",23),o(32,"Peso"),r(),t(33,"input",24),p("ngModelChange",function(n){return c(e.peso,n)||(e.peso=n),n}),r()()(),t(34,"div",19)(35,"div",20)(36,"label",25),o(37,"Temperatura"),r(),t(38,"input",26),p("ngModelChange",function(n){return c(e.temperatura,n)||(e.temperatura=n),n}),r()(),t(39,"div",20)(40,"label",27),o(41,"Presion"),r(),t(42,"input",28),p("ngModelChange",function(n){return c(e.presion,n)||(e.presion=n),n}),r()()(),_(43,"div",29),t(44,"p",18),o(45,"Datos opcionales"),r(),t(46,"div",19)(47,"div",20)(48,"label",30),o(49,"Dato personalizado"),r(),t(50,"input",31),p("ngModelChange",function(n){return c(e.key1,n)||(e.key1=n),n}),r()(),t(51,"div",20)(52,"label",32),o(53,"Valor del dato"),r(),t(54,"input",33),p("ngModelChange",function(n){return c(e.valor1,n)||(e.valor1=n),n}),r()()(),b(55,Y,10,3),t(56,"button",34),w("click",function(){return e.agregarAHistoriaClinica()}),o(57," Subir "),r()()()()),i&2&&(l(13),B("src",e.user.foto1,D),l(3),C(16,e.cerrandoSesion?16:-1),l(3),k("Agregar a la historia clinica del paciente ",e.getNombreDelPaciente(e.pacienteDni),""),l(2),k("Fecha: ",e.fechaFormateada,""),l(8),m("ngModel",e.altura),l(4),m("ngModel",e.peso),l(5),m("ngModel",e.temperatura),l(4),m("ngModel",e.presion),l(8),m("ngModel",e.key1),l(4),m("ngModel",e.valor1),l(),C(55,e.key1!=""&&e.valor1!=""?55:-1))},dependencies:[j,T,P,V,I,H]});let u=g;return u})();export{ie as AgregarHistoriaClinicaComponent};
